{"ast":null,"code":"import _classCallCheck from\"/Users/margaritasabanova/Documents/dev1/mesto-react/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/margaritasabanova/Documents/dev1/mesto-react/node_modules/@babel/runtime/helpers/esm/createClass.js\";var Api=/*#__PURE__*/function(){function Api(_ref){var baseUrl=_ref.baseUrl,headers=_ref.headers;_classCallCheck(this,Api);this._headers=headers;this._baseUrl=baseUrl;}_createClass(Api,[{key:\"_checkResponse\",value:function _checkResponse(res){if(res.ok){return res.json();}else{return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));}}},{key:\"getProfile\",value:function getProfile(){return fetch(\"\".concat(this._baseUrl,\"/users/me\"),{headers:this._headers}).then(this._checkResponse).catch(console.log);}},{key:\"getInitialCards\",value:function getInitialCards(){return fetch(\"\".concat(this._baseUrl,\"/cards\"),{headers:this._headers}).then(this._checkResponse).catch(console.log);}},{key:\"editProfile\",value:function editProfile(name,about){return fetch(\"\".concat(this._baseUrl,\"/users/me\"),{method:\"PATCH\",headers:this._headers,body:JSON.stringify({name:name,about:about})}).then(this._checkResponse).catch(console.log);}},{key:\"addCard\",value:function addCard(name,link){return fetch(\"\".concat(this._baseUrl,\"/cards\"),{method:\"POST\",headers:this._headers,body:JSON.stringify({name:name,link:link})}).then(this._checkResponse).catch(console.log);}},{key:\"deleteCard\",value:function deleteCard(id){return fetch(\"\".concat(this._baseUrl,\"/cards/\").concat(id),{method:\"DELETE\",headers:this._headers}).then(this._checkResponse).catch(console.log);}},{key:\"deleteLike\",value:function deleteLike(id){return fetch(\"\".concat(this._baseUrl,\"/cards/\").concat(id,\"/likes\"),{method:\"DELETE\",headers:this._headers}).then(this._checkResponse).catch(console.log);}},{key:\"addLike\",value:function addLike(id){return fetch(\"\".concat(this._baseUrl,\"/cards/\").concat(id,\"/likes\"),{method:\"PUT\",headers:this._headers}).then(this._checkResponse).catch(console.log);}},{key:\"changeLikeCardStatus\",value:function changeLikeCardStatus(id,state){return state?this.addLike(id):this.deleteLike(id);}},{key:\"editAvatar\",value:function editAvatar(avatar){return fetch(\"\".concat(this._baseUrl,\"/users/me/avatar\"),{method:\"PATCH\",headers:this._headers,body:JSON.stringify({avatar:avatar})}).then(this._checkResponse).catch(console.log);}}]);return Api;}();export var api=new Api({baseUrl:\"https://mesto.nomoreparties.co/v1/cohort-44\",headers:{authorization:\"0d3ef27f-f4a5-410a-8f5b-217508f8811f\",\"Content-Type\":\"application/json\"}});","map":{"version":3,"names":["Api","baseUrl","headers","_headers","_baseUrl","res","ok","json","Promise","reject","status","fetch","then","_checkResponse","catch","console","log","name","about","method","body","JSON","stringify","link","id","state","addLike","deleteLike","avatar","api","authorization"],"sources":["/Users/margaritasabanova/Documents/dev1/mesto-react/src/utils/api.js"],"sourcesContent":["class Api {\n  constructor({ baseUrl, headers }) {\n    this._headers = headers;\n    this._baseUrl = baseUrl;\n  }\n\n  _checkResponse(res) {\n    if (res.ok) {\n      return res.json();\n    } else {\n      return Promise.reject(`Ошибка: ${res.status}`);\n    }\n  }\n\n  getProfile() {\n    return fetch(`${this._baseUrl}/users/me`, {\n      headers: this._headers,\n    })\n      .then(this._checkResponse)\n      .catch(console.log);\n  }\n\n  getInitialCards() {\n    return fetch(`${this._baseUrl}/cards`, {\n      headers: this._headers,\n    })\n      .then(this._checkResponse)\n      .catch(console.log);\n  }\n\n  editProfile(name, about) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name,\n        about,\n      }),\n    })\n      .then(this._checkResponse)\n      .catch(console.log);\n  }\n\n  addCard(name, link) {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name,\n        link,\n      }),\n    })\n      .then(this._checkResponse)\n      .catch(console.log);\n  }\n\n  deleteCard(id) {\n    return fetch(`${this._baseUrl}/cards/${id}`, {\n      method: \"DELETE\",\n      headers: this._headers,\n    })\n      .then(this._checkResponse)\n      .catch(console.log);\n  }\n\n  deleteLike(id) {\n    return fetch(`${this._baseUrl}/cards/${id}/likes`, {\n      method: \"DELETE\",\n      headers: this._headers,\n    })\n      .then(this._checkResponse)\n      .catch(console.log);\n  }\n\n  addLike(id) {\n    return fetch(`${this._baseUrl}/cards/${id}/likes`, {\n      method: \"PUT\",\n      headers: this._headers,\n    })\n      .then(this._checkResponse)\n      .catch(console.log);\n  }\n\n  changeLikeCardStatus(id, state) {\n    return state ? this.addLike(id) : this.deleteLike(id);\n  }\n\n  editAvatar(avatar) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar,\n      }),\n    })\n      .then(this._checkResponse)\n      .catch(console.log);\n  }\n}\n\nexport const api = new Api({\n  baseUrl: \"https://mesto.nomoreparties.co/v1/cohort-44\",\n  headers: {\n    authorization: \"0d3ef27f-f4a5-410a-8f5b-217508f8811f\",\n    \"Content-Type\": \"application/json\",\n  },\n});\n"],"mappings":"mRAAMA,I,yBACJ,kBAAkC,IAApBC,QAAoB,MAApBA,OAAoB,CAAXC,OAAW,MAAXA,OAAW,2BAChC,KAAKC,QAAL,CAAgBD,OAAhB,CACA,KAAKE,QAAL,CAAgBH,OAAhB,CACD,C,8CAED,wBAAeI,GAAf,CAAoB,CAClB,GAAIA,GAAG,CAACC,EAAR,CAAY,CACV,MAAOD,IAAG,CAACE,IAAJ,EAAP,CACD,CAFD,IAEO,CACL,MAAOC,QAAO,CAACC,MAAR,iDAA0BJ,GAAG,CAACK,MAA9B,EAAP,CACD,CACF,C,0BAED,qBAAa,CACX,MAAOC,MAAK,WAAI,KAAKP,QAAT,cAA8B,CACxCF,OAAO,CAAE,KAAKC,QAD0B,CAA9B,CAAL,CAGJS,IAHI,CAGC,KAAKC,cAHN,EAIJC,KAJI,CAIEC,OAAO,CAACC,GAJV,CAAP,CAKD,C,+BAED,0BAAkB,CAChB,MAAOL,MAAK,WAAI,KAAKP,QAAT,WAA2B,CACrCF,OAAO,CAAE,KAAKC,QADuB,CAA3B,CAAL,CAGJS,IAHI,CAGC,KAAKC,cAHN,EAIJC,KAJI,CAIEC,OAAO,CAACC,GAJV,CAAP,CAKD,C,2BAED,qBAAYC,IAAZ,CAAkBC,KAAlB,CAAyB,CACvB,MAAOP,MAAK,WAAI,KAAKP,QAAT,cAA8B,CACxCe,MAAM,CAAE,OADgC,CAExCjB,OAAO,CAAE,KAAKC,QAF0B,CAGxCiB,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACnBL,IAAI,CAAJA,IADmB,CAEnBC,KAAK,CAALA,KAFmB,CAAf,CAHkC,CAA9B,CAAL,CAQJN,IARI,CAQC,KAAKC,cARN,EASJC,KATI,CASEC,OAAO,CAACC,GATV,CAAP,CAUD,C,uBAED,iBAAQC,IAAR,CAAcM,IAAd,CAAoB,CAClB,MAAOZ,MAAK,WAAI,KAAKP,QAAT,WAA2B,CACrCe,MAAM,CAAE,MAD6B,CAErCjB,OAAO,CAAE,KAAKC,QAFuB,CAGrCiB,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACnBL,IAAI,CAAJA,IADmB,CAEnBM,IAAI,CAAJA,IAFmB,CAAf,CAH+B,CAA3B,CAAL,CAQJX,IARI,CAQC,KAAKC,cARN,EASJC,KATI,CASEC,OAAO,CAACC,GATV,CAAP,CAUD,C,0BAED,oBAAWQ,EAAX,CAAe,CACb,MAAOb,MAAK,WAAI,KAAKP,QAAT,mBAA2BoB,EAA3B,EAAiC,CAC3CL,MAAM,CAAE,QADmC,CAE3CjB,OAAO,CAAE,KAAKC,QAF6B,CAAjC,CAAL,CAIJS,IAJI,CAIC,KAAKC,cAJN,EAKJC,KALI,CAKEC,OAAO,CAACC,GALV,CAAP,CAMD,C,0BAED,oBAAWQ,EAAX,CAAe,CACb,MAAOb,MAAK,WAAI,KAAKP,QAAT,mBAA2BoB,EAA3B,WAAuC,CACjDL,MAAM,CAAE,QADyC,CAEjDjB,OAAO,CAAE,KAAKC,QAFmC,CAAvC,CAAL,CAIJS,IAJI,CAIC,KAAKC,cAJN,EAKJC,KALI,CAKEC,OAAO,CAACC,GALV,CAAP,CAMD,C,uBAED,iBAAQQ,EAAR,CAAY,CACV,MAAOb,MAAK,WAAI,KAAKP,QAAT,mBAA2BoB,EAA3B,WAAuC,CACjDL,MAAM,CAAE,KADyC,CAEjDjB,OAAO,CAAE,KAAKC,QAFmC,CAAvC,CAAL,CAIJS,IAJI,CAIC,KAAKC,cAJN,EAKJC,KALI,CAKEC,OAAO,CAACC,GALV,CAAP,CAMD,C,oCAED,8BAAqBQ,EAArB,CAAyBC,KAAzB,CAAgC,CAC9B,MAAOA,MAAK,CAAG,KAAKC,OAAL,CAAaF,EAAb,CAAH,CAAsB,KAAKG,UAAL,CAAgBH,EAAhB,CAAlC,CACD,C,0BAED,oBAAWI,MAAX,CAAmB,CACjB,MAAOjB,MAAK,WAAI,KAAKP,QAAT,qBAAqC,CAC/Ce,MAAM,CAAE,OADuC,CAE/CjB,OAAO,CAAE,KAAKC,QAFiC,CAG/CiB,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACnBM,MAAM,CAANA,MADmB,CAAf,CAHyC,CAArC,CAAL,CAOJhB,IAPI,CAOC,KAAKC,cAPN,EAQJC,KARI,CAQEC,OAAO,CAACC,GARV,CAAP,CASD,C,mBAGH,MAAO,IAAMa,IAAG,CAAG,GAAI7B,IAAJ,CAAQ,CACzBC,OAAO,CAAE,6CADgB,CAEzBC,OAAO,CAAE,CACP4B,aAAa,CAAE,sCADR,CAEP,eAAgB,kBAFT,CAFgB,CAAR,CAAZ"},"metadata":{},"sourceType":"module"}