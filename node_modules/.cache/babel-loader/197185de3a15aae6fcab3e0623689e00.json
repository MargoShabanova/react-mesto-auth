{"ast":null,"code":"import _slicedToArray from\"/Users/margaritasabanova/Documents/dev1/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useContext,useEffect,useState}from\"react\";import{CurrentUserContext}from\"../contexts/CurrentUserContext\";import PopupWithForm from\"./PopupWithForm\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function EditProfilePopup(_ref){var isOpen=_ref.isOpen,onClose=_ref.onClose,onUpdateUser=_ref.onUpdateUser;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),description=_useState4[0],setDescription=_useState4[1];var currentUser=useContext(CurrentUserContext);useEffect(function(){setName(currentUser.name||'');setDescription(currentUser.about||'');},[currentUser,isOpen]);function handleChangeName(e){setName(e.target.value);}function handleChangeDescription(e){setDescription(e.target.value);}function handleSubmit(e){e.preventDefault();onUpdateUser({name:name,about:description});}return/*#__PURE__*/_jsx(PopupWithForm,{name:\"profile-edit\",title:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",buttonText:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\",isOpen:isOpen,onClose:onClose,onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(\"fieldset\",{className:\"form__container\",children:[/*#__PURE__*/_jsx(\"input\",{value:name,onChange:handleChangeName,id:\"name-input\",name:\"name\",type:\"text\",className:\"form__item form__item_type_name\",placeholder:\"\\u0418\\u043C\\u044F\",required:true,minLength:\"2\",maxLength:\"40\"}),/*#__PURE__*/_jsx(\"span\",{className:\"name-input-error form__item-error\"}),/*#__PURE__*/_jsx(\"input\",{value:description,onChange:handleChangeDescription,id:\"metier-input\",name:\"description\",type:\"text\",className:\"form__item form__item_type_metier\",placeholder:\"\\u041E \\u0441\\u0435\\u0431\\u0435\",required:true,minLength:\"2\",max:\"200\"}),/*#__PURE__*/_jsx(\"span\",{className:\"metier-input-error form__item-error\"})]})});}","map":{"version":3,"names":["useContext","useEffect","useState","CurrentUserContext","PopupWithForm","EditProfilePopup","isOpen","onClose","onUpdateUser","name","setName","description","setDescription","currentUser","about","handleChangeName","e","target","value","handleChangeDescription","handleSubmit","preventDefault"],"sources":["/Users/margaritasabanova/Documents/dev1/react-mesto-auth/src/components/EditProfilePopup.js"],"sourcesContent":["import { useContext, useEffect, useState } from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nexport default function EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\n  const [name, setName] = useState('');\n  const [description, setDescription] = useState('');\n  const currentUser = useContext(CurrentUserContext);\n\n  useEffect(() => {\n    setName(currentUser.name || '');\n    setDescription(currentUser.about || '');\n  },[currentUser, isOpen]);\n\n  function handleChangeName(e) {\n    setName(e.target.value);\n  }\n\n  function handleChangeDescription(e) {\n    setDescription(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      name=\"profile-edit\"\n      title=\"Редактировать профиль\"\n      buttonText=\"Сохранить\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <fieldset className=\"form__container\">\n        <input\n          value={name}\n          onChange={handleChangeName}\n          id=\"name-input\"\n          name=\"name\"\n          type=\"text\"\n          className=\"form__item form__item_type_name\"\n          placeholder=\"Имя\"\n          required\n          minLength=\"2\"\n          maxLength=\"40\"\n        />\n        <span className=\"name-input-error form__item-error\"></span>\n        <input\n          value={description}\n          onChange={handleChangeDescription}\n          id=\"metier-input\"\n          name=\"description\"\n          type=\"text\"\n          className=\"form__item form__item_type_metier\"\n          placeholder=\"О себе\"\n          required\n          minLength=\"2\"\n          max=\"200\"\n        />\n        <span className=\"metier-input-error form__item-error\"></span>\n      </fieldset>\n    </PopupWithForm>\n  );\n}\n"],"mappings":"8IAAA,OAASA,UAAT,CAAqBC,SAArB,CAAgCC,QAAhC,KAAgD,OAAhD,CACA,OAASC,kBAAT,KAAmC,gCAAnC,CACA,MAAOC,cAAP,KAA0B,iBAA1B,C,wFAEA,cAAe,SAASC,iBAAT,MAA6D,IAAjCC,OAAiC,MAAjCA,MAAiC,CAAzBC,OAAyB,MAAzBA,OAAyB,CAAhBC,YAAgB,MAAhBA,YAAgB,CAC1E,cAAwBN,QAAQ,CAAC,EAAD,CAAhC,wCAAOO,IAAP,eAAaC,OAAb,eACA,eAAsCR,QAAQ,CAAC,EAAD,CAA9C,yCAAOS,WAAP,eAAoBC,cAApB,eACA,GAAMC,YAAW,CAAGb,UAAU,CAACG,kBAAD,CAA9B,CAEAF,SAAS,CAAC,UAAM,CACdS,OAAO,CAACG,WAAW,CAACJ,IAAZ,EAAoB,EAArB,CAAP,CACAG,cAAc,CAACC,WAAW,CAACC,KAAZ,EAAqB,EAAtB,CAAd,CACD,CAHQ,CAGP,CAACD,WAAD,CAAcP,MAAd,CAHO,CAAT,CAKA,QAASS,iBAAT,CAA0BC,CAA1B,CAA6B,CAC3BN,OAAO,CAACM,CAAC,CAACC,MAAF,CAASC,KAAV,CAAP,CACD,CAED,QAASC,wBAAT,CAAiCH,CAAjC,CAAoC,CAClCJ,cAAc,CAACI,CAAC,CAACC,MAAF,CAASC,KAAV,CAAd,CACD,CAED,QAASE,aAAT,CAAsBJ,CAAtB,CAAyB,CACvBA,CAAC,CAACK,cAAF,GAEAb,YAAY,CAAC,CACXC,IAAI,CAAJA,IADW,CAEXK,KAAK,CAAEH,WAFI,CAAD,CAAZ,CAID,CAED,mBACE,KAAC,aAAD,EACE,IAAI,CAAC,cADP,CAEE,KAAK,CAAC,2HAFR,CAGE,UAAU,CAAC,wDAHb,CAIE,MAAM,CAAEL,MAJV,CAKE,OAAO,CAAEC,OALX,CAME,QAAQ,CAAEa,YANZ,uBAQE,kBAAU,SAAS,CAAC,iBAApB,wBACE,cACE,KAAK,CAAEX,IADT,CAEE,QAAQ,CAAEM,gBAFZ,CAGE,EAAE,CAAC,YAHL,CAIE,IAAI,CAAC,MAJP,CAKE,IAAI,CAAC,MALP,CAME,SAAS,CAAC,iCANZ,CAOE,WAAW,CAAC,oBAPd,CAQE,QAAQ,KARV,CASE,SAAS,CAAC,GATZ,CAUE,SAAS,CAAC,IAVZ,EADF,cAaE,aAAM,SAAS,CAAC,mCAAhB,EAbF,cAcE,cACE,KAAK,CAAEJ,WADT,CAEE,QAAQ,CAAEQ,uBAFZ,CAGE,EAAE,CAAC,cAHL,CAIE,IAAI,CAAC,aAJP,CAKE,IAAI,CAAC,MALP,CAME,SAAS,CAAC,mCANZ,CAOE,WAAW,CAAC,iCAPd,CAQE,QAAQ,KARV,CASE,SAAS,CAAC,GATZ,CAUE,GAAG,CAAC,KAVN,EAdF,cA0BE,aAAM,SAAS,CAAC,qCAAhB,EA1BF,GARF,EADF,CAuCD"},"metadata":{},"sourceType":"module"}